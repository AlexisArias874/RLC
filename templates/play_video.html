{% extends 'base.html' %}

{% block title %}Viendo: {{ episodio.titulo_episodio }}{% endblock %}

{% block content %}
    <h1>{{ episodio.temporada.serie.titulo }} - {{ episodio.temporada.titulo_temporada if episodio.temporada.titulo_temporada else 'Temporada ' ~ episodio.temporada.numero_temporada }}</h1>
    <h2>Episodio {{ episodio.numero_episodio }}: {{ episodio.titulo_episodio }}</h2>
    
    <div class="video-container">
        <iframe 
            src="https://player.vimeo.com/video/{{ vimeo_id }}?h=HASH_OPCIONAL&autoplay=0&loop=0&title=0&byline=0&portrait=0" 
            width="100%" 
            height="560" 
            frameborder="0" 
            allow="autoplay; fullscreen; picture-in-picture" 
            allowfullscreen>
        </iframe>
    </div>
    
    {% if episodio.descripcion %}
    <div class="episode-description card">
        <h3>Descripción del Episodio</h3>
        <p>{{ episodio.descripcion }}</p>
    </div>
    {% endif %}

    <p><a href="{{ url_for('serie_detail', serie_id=episodio.temporada.serie_id) }}" class="button">« Volver a la lista de episodios</a></p>
{% endblock %}